var CardFlag={card1:0,card2:0,card3:0,card4:0,card5:0};function btnEvent(btnVal){var cards=document.querySelector(".accordion").children,cardBtnAtr,cardAtr;if("acOpne"==btnVal){for(let i=0;i<cards.length;i++)cardBtnAtr=cards[i].children[0].children[0],cardAtr=cards[i].children[1],cardBtnAtr.classList.remove("collapsed"),cardBtnAtr.setAttribute("aria-expanded","true"),cardAtr.classList.add("show");for(const key in this.CardFlag)this.CardFlag[key]=1;localStorage.setItem("acCardFlag",JSON.stringify(this.CardFlag))}else{for(let i=0;i<cards.length;i++)cardBtnAtr=cards[i].children[0].children[0],cardAtr=cards[i].children[1],cardBtnAtr.classList.add("collapsed"),cardBtnAtr.setAttribute("aria-expanded","false"),cardAtr.classList.remove("show");if("acReset"==btnVal)confirm("開閉状態をストレージからリセットしますか？")&&(localStorage.removeItem("acCardFlag"),alert("開閉状態がストレージからリセットされました"));else if("acClose"==btnVal){for(const key in this.CardFlag)this.CardFlag[key]=0;localStorage.setItem("acCardFlag",JSON.stringify(this.CardFlag))}}}function AlertMes(){alert("１．開閉状態をストレージに保存します\n※ブラウザを更新して動作確認してみてください\n\n２．OPEN・CLOSEボタンで全カードの開閉ができます\n\n３．RESETボタンで全ての情報を端末ストレージからリセットできます")}function acToggle(cardHead){var objFlag=JSON.parse(localStorage.getItem("acCardFlag")),cardHeadBtn=cardHead.children[0],acCardAttr=cardHeadBtn.getAttribute("id"),flag=cardHeadBtn.children[0].getAttribute("aria-expanded");if(null!=objFlag)for(const key in objFlag)[key]==acCardAttr&&("true"==flag?(objFlag[key]=1,localStorage.setItem("acCardFlag",JSON.stringify(objFlag))):"false"==flag&&(objFlag[key]=0,localStorage.setItem("acCardFlag",JSON.stringify(objFlag))));else if(null==objFlag)for(const key in this.CardFlag)[key]==acCardAttr&&("true"==flag?(this.CardFlag[key]=1,localStorage.setItem("acCardFlag",JSON.stringify(this.CardFlag))):"false"==flag&&(this.CardFlag[key]=0,localStorage.setItem("acCardFlag",JSON.stringify(this.CardFlag))))}window.onload=()=>{var objFlag=JSON.parse(localStorage.getItem("acCardFlag")),cards=document.querySelector(".accordion").children;for(key in objFlag)if(0==objFlag[key])for(let i=0;i<cards.length;i++)key==cards[i].children[0].getAttribute("id")&&(cardBtnAtr=cards[i].children[0].children[0],cardAtr=cards[i].children[1],cardBtnAtr.classList.add("collapsed"),cardBtnAtr.setAttribute("aria-expanded","false"),cardAtr.classList.remove("show"));else if(1==objFlag[key])for(let i=0;i<cards.length;i++)key==cards[i].children[0].getAttribute("id")&&(cardBtnAtr=cards[i].children[0].children[0],cardAtr=cards[i].children[1],cardBtnAtr.classList.remove("collapsed"),cardBtnAtr.setAttribute("aria-expanded","true"),cardAtr.classList.add("show"))};